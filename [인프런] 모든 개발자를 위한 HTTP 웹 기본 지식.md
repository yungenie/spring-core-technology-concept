# π± λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTP μ›Ή κΈ°λ³Έ μ§€μ‹
μ¶μ € : [`μΈν”„λ° κΉ€μν• - λ¨λ“  κ°λ°μλ¥Ό μ„ν• HTTP μ›Ή κΈ°λ³Έ μ§€μ‹`](https://inf.run/xRKw)

<br>

## λ©μ°¨
- [μΈν„°λ„· λ„¤νΈμ›ν¬](#μΈν„°λ„·-λ„¤νΈμ›ν¬) 
- [URLμ™€ μ›Ή λΈλΌμ°μ € μ”μ²­](#URLμ™€-μ›Ή-λΈλΌμ°μ €-μ”μ²­) 
- [HTTP](#HTTP) 
- [HTTP λ©”μ„λ“](#HTTP-λ©”μ„λ“)  
- [HTTP λ©”μ„λ“ ν™μ©](#HTTP-λ©”μ„λ“-ν™μ©)  
- [HTTP μƒνƒμ½”λ“](#HTTP-μƒνƒμ½”λ“)   
<br>

## μΈν„°λ„· λ„¤νΈμ›ν¬
- λ€λ¶€λ¶„ κ°λ°μλ” HTTP ν”„λ΅ν† μ½ μ„μ—μ„ κ°λ°ν•©λ‹λ‹¤.
- κ²°κµ­ λ‹¤ μ„λ²„(λ…Έλ“)λ¥Ό ν†µν•΄μ„ μ „λ‹¬λ©λ‹λ‹¤.


### IP (μΈν„°λ„· ν”„λ΅ν† μ½)
- ν΄λΌμ΄μ–ΈνΈμ—μ„ μ„λ²„κΉμ§€ μΈν„°λ„·λ§μ„ ν†µν•΄μ„ ν†µμ‹ ν•κΈ° μ„ν•΄ IP μ£Όμ†(IP Address)λ¥Ό μ΄μ©ν•΄ μ ‘κ·Όν•©λ‹λ‹¤.
- μ¶λ°μ§€/λ„μ°©μ§€ μ§€μ •ν• IP μ£Όμ†(IP Address)λ΅ λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•©λ‹λ‹¤.
- λ°μ΄ν„°λ¥Ό μ „λ‹¬ν•  λ•λ” ν¨ν‚·(Packet)λ‹¨μ„λ΅ ν†µμ‹ ν•©λ‹λ‹¤.
- λ³΄ν†µ 1500byte λ‹¨μ„λ΅ λ‚λ μ„ λ³΄λƒ…λ‹λ‹¤. 
- μμ„ λ³΄μ¥ μ•λ©λ‹λ‹¤.


### TCP (μ „μ†΅ μ μ–΄ ν”„λ΅ν† μ½)
- TCP, Transmission Control Protocol
- μ—°κ²°μ§€ν–¥ TCP 3 way handshake (κ°€μƒμ—°κ²°)
- λ°μ΄ν„° μ „λ‹¬ λ³΄μ¦
- μμ„ λ³΄μ¥
- μ‹ λΆ°ν•  μ μλ” ν”„λ΅ν† μ½
- ν„μ¬ λ€λ¶€λ¶„ TCP μ‚¬μ©


#### ν”„λ΅ν† μ½ κ³„μΈµ
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226247273-31716721-b005-4b5d-bb63-828fd8313b96.png">


#### Ethernet frame
- λ μΉ΄λ“μ— λ“±λ΅λ MAC μ£Όμ† (λ¬Όλ¦¬μ μΈ μ£Όμ†)

#### ν¨ν‚·
- μν™”λ¬Ό(package) + λ©μ–΄λ¦¬ ν•©μ„±μ–΄


#### TCP/IP ν¨ν‚·μ΄λ€
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226247339-84eccf04-a257-4b80-b80d-94305af1d055.png">

- μ¶λ°μ§€/λ„μ°©μ§€ IP, PORT, μ „μ†΅ λ°μ΄ν„°, λ¶€κ°€μ •λ³΄λ“¤ ν¬ν•¨λμ–΄ μλ” μ •λ³΄λ¥Ό λ»ν•©λ‹λ‹¤.


#### TCP 3 way handshake λ€?
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226247134-deb4a0b3-3c25-425a-8a12-2f43d7f01c7f.png">

- connect μ—°κ²°κ³Όμ •μ—μ„ μ”μ²­, μλ½, μ „μ†΅ 3λ² μ£Όκ³  λ°›μµλ‹λ‹¤. (λ…Όλ¦¬μ μΌλ΅ μ—°κ²°)
1. ν΄λΌμ΄μ–ΈνΈ(μ¶λ°μ§€)μ—μ„ -> μ„λ²„(λ„μ°©μ§€)λ΅ μ ‘μ† μ”μ²­ (SYN)
2. μ„λ²„(λ„μ°©μ§€)μ—μ„ -> ν΄λΌμ΄μ–ΈνΈ(μ¶λ°μ§€)λ΅ μ”μ²­ μλ½ (SYN + ACK)
3. ν΄λΌμ΄μ–ΈνΈ(μ¶λ°μ§€)μ—μ„ -> μ„λ²„(λ„μ°©μ§€)λ΅ ACK ν•¨κ» λ°μ΄ν„° μ „μ†΅ κ°€λ¥ (ACK)



### UDP (μ‚¬μ©μ λ°μ΄ν„°κ·Έλ¨ ν”„λ΅ν† μ½)
- UDP, User Datagram Protocol
- κΈ°λ¥μ΄ κ±°μ μ—†μ
- μ—°κ²°μ§€ν–¥ - TCP 3 way handshake X
- λ°μ΄ν„° μ „λ‹¬ λ³΄μ¦ X
- μμ„ λ³΄μ¥ X
- λ°μ΄ν„° μ „λ‹¬ λ° μμ„κ°€ λ³΄μ¥λμ§€ μ•μ§€λ§, λ‹¨μν•κ³  λΉ λ¦„

β€Ά μ •λ¦¬
- IPμ™€ κ±°μ κ°™λ‹¤. +PORT +μ²΄ν¬μ„¬ μ •λ„λ§ μ¶”κ°€
- μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ μ¶”κ°€ μ‘μ—… ν•„μ”

#### HTTP/3 Web 
- λ³΄ν†µ TCP ν”„λ΅ν† μ½μ„ Web,μμƒ λ“± 90% μ μ μ¨λ΅¤ TCP λ€λ‹¤μ μ‚¬μ©ν–μµλ‹λ‹¤.
- μµκ·Όμ— TCP 3 way handshake λ‹¨κ³„λ¥Ό μ¤„μ—¬ μµμ ν™”ν•΄λ³΄μ ν•μ—¬ HTTP/3 Web κ²½μ°λ” UDP ν”„λ΅ν† μ½μ„ μ‚¬μ©ν•κ³  μμµλ‹λ‹¤.

### PORT
- ν•­κµ¬λΌλ” λ»
- κ°™μ€ IP λ‚΄μ—μ„ ν”„λ΅μ„Έμ¤(μ–΄ν”λ¦¬μΌ€μ΄μ…) κµ¬λ¶„

β€Ά 0 ~ 65535 ν• λ‹Ή κ°€λ¥
β€Ά 0 ~ 1023: μ μ•λ ¤μ§„ ν¬νΈ, μ‚¬μ©ν•μ§€ μ•λ” κ²ƒμ΄ μΆ‹μµλ‹λ‹¤.
β€Ά FTP - 20, 21
β€Ά TELNET - 23
β€Ά HTTP - 80
β€Ά HTTPS - 443


### DNS (λ„λ©”μΈ λ„¤μ„ μ‹μ¤ν…)
- DNS, Domain Name System
- IP μ£Όμ†λ¥Ό μ‰½κ² μ½μ„ μ μλ” λ„λ©”μΈ μ΄λ¦„μ λ””λ ‰ν„°λ¦¬ μ…λ‹λ‹¤.
- λ„λ©”μΈ λ…μ„ IP μ£Όμ†λ΅ λ³€ν™ν™¥λ‹λ‹¤.
<br>


## URLμ™€ μ›Ή λΈλΌμ°μ € μ”μ²­ 
### URL
- URI, Uniform Resource Identifier
- URL, URN ν¬ν•¨
- Uniform: λ¦¬μ†μ¤ μ‹λ³„ν•λ” ν†µμΌλ λ°©μ‹
- Resource: μμ›, URIλ΅ μ‹λ³„ν•  μ μλ” λ¨λ“  κ²ƒ(μ ν• μ—†μ)
- Locator: λ¦¬μ†μ¤κ°€ μλ” μ„μΉλ¥Ό μ§€μ •
- scheme://[userinfo@]host[:port][/path][?query][#fragment]
- https://www.google.com:443/search?q=hello&hl=ko


#### scheme
- μ£Όλ΅ ν”„λ΅ν† μ½ μ‚¬μ©
- ν”„λ΅ν† μ½: μ–΄λ–¤ λ°©μ‹μΌλ΅ μμ›μ— μ ‘κ·Όν•  κ²ƒμΈκ°€ ν•λ” μ•½μ† κ·μΉ™
- μ) http, https, ftp λ“±λ“±
- httpλ” 80 ν¬νΈ, httpsλ” 443 ν¬νΈλ¥Ό μ£Όλ΅ μ‚¬μ©, ν¬νΈλ” μƒλµ κ°€λ¥
- httpsλ” httpμ— λ³΄μ• μ¶”κ°€ (HTTP Secure)



#### query
- key=value ν•νƒ
- ?λ΅ μ‹μ‘, &λ΅ μ¶”κ°€ κ°€λ¥ ?keyA=valueA&keyB=valueB
- query parameter, query string λ“±μΌλ΅ λ¶λ¦Ό, μ›Ήμ„λ²„μ— μ κ³µν•λ” νλΌλ―Έν„°, λ¬Έμ ν•νƒ



### μ›Ή λΈλΌμ°μ € μ”μ²­ νλ¦„
1. DNS μ΅°ν
2. IP, PORT μ •λ³΄ μ΅°ν
3. HTTP μ”μ²­ λ©”μ‹μ§€
- GET /search?q=hello&hl=ko HTTP/1.1 -> HTTP λ²„μ „
- Host: www.google.com

#### HTTP μ”μ²­ λ©”μ‹μ§€ μ „μ†΅
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226266592-50561a47-14ac-43cd-94c0-57976e17db0d.png">
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226266771-27e2aae7-3fa1-4cbd-b688-ae0c7b8ea30d.png">
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226266972-51f3fffc-a928-48f7-b690-75c20ee5e9be.png">
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226267030-69d897af-219b-4d21-bf32-794464aafa17.png">
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226267092-c05f45c1-9627-4791-b604-8ab0cdebbc8a.png">
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226267185-2da70e4f-d8fe-4ee2-8f69-f95a55a4126e.png">
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226267225-5976218a-c31b-4a41-ae2a-c082dc1f44a3.png">

<br>


  
## HTTP κΈ°λ³Έ
### ν΄λΌμ΄μ–ΈνΈ μ„λ²„ κµ¬μ΅°
### Stateful, Stateless
### λΉ„ μ—°κ²°μ„±(connectionless)
### HTTP λ©”μ‹μ§€
  
## HTTP λ©”μ„λ“
### HTTP λ©”μ„λ“ - GET, POST
### HTTP λ©”μ„λ“ - PUT, PATCH, DELETE
### HTTP λ©”μ„λ“μ μ†μ„±

## HTTP λ©”μ„λ“ ν™μ© 

## HTTP μƒνƒμ½”λ“
### μƒνƒμ½”λ“ 
- ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄λ‚Έ **μ”μ²­μ— λ€ν• μ²λ¦¬μƒνƒ**λ¥Ό **μ‘λ‹µ**μ—μ„ μ•λ ¤μ£Όλ” κΈ°λ¥μ…λ‹λ‹¤.

  - 1xx (Informational): μ”μ²­μ΄ μμ‹ λμ–΄ μ²λ¦¬μ¤‘ (κ±°μ μ‚¬μ©ν•μ§€ μ•μ)
  - 2xx (**Successful**): μ”μ²­ μ •μƒ μ²λ¦¬
  - 3xx (**Redirection**): μ”μ²­μ„ μ™„λ£ν•λ ¤λ©΄ μ¶”κ°€ ν–‰λ™μ΄ ν•„μ”
  - 4xx (**Client Error**): ν΄λΌμ΄μ–ΈνΈ μ¤λ¥, μλ»λ λ¬Έλ²•λ“±μΌλ΅ μ„λ²„κ°€ μ”μ²­μ„ μν–‰ν•  μ μ—†μ
  - 5xx (**Server Error**): μ„λ²„ μ¤λ¥, μ„λ²„κ°€ μ •μƒ μ”μ²­μ„ μ²λ¦¬ν•μ§€ λ»ν•¨

### 2xx (Successful)
- ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ„±κ³µμ μΌλ΅ μ²λ¦¬ν•©λ‹λ‹¤.

  - 200 OK : μ”μ²­ μ„±κ³µ
  - 201 Created : μ”μ²­ μ„±κ³µν•΄μ„ μƒλ΅μ΄ λ¦¬μ†μ¤κ°€ μƒμ„±λ¨
  - 202 Accepted : μ”μ²­μ΄ **μ ‘μ**λμ—μΌλ‚ **μ²λ¦¬κ°€ μ™„λ£λμ§€ μ•μ•μ.**
  - 204 No Content : μ„λ²„κ°€ μ”μ²­μ„ μ„±κ³µμ μΌλ΅ μν–‰ν–μ§€λ§, μ‘λ‹µ νμ΄λ΅λ“ λ³Έλ¬Έμ— λ³΄λ‚Ό λ°μ΄ν„°κ°€ μ—†μ.
    β€» νμ΄λ΅λ“(payload) : μ‚¬μ©μ— μμ–΄μ„ μ „μ†΅λλ” λ°μ΄ν„° 

#### 201 Created
<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226808910-4073b0bf-283f-40cc-b22f-669530eedf11.png">

### 3xx (Redirection)
- μ”μ²­μ„ μ™„λ£ν•κΈ° μ„ν•΄ μ μ € μ—μ΄μ „νΈ(μ›Ή λΈλΌμ°μ €)μ μ¶”κ°€ μ΅°μΉ ν•„μ”ν•©λ‹λ‹¤.
- μκµ¬ λ¦¬λ‹¤μ΄λ ‰μ…, μΌμ‹ λ¦¬λ‹¤μ΄λ ‰μ…, νΉμ λ¦¬λ‹¤μ΄λ ‰μ…(κ²°κ³Όλ€μ‹  μΊμ‹μ‚¬μ©) 3κ°€μ§€ μΆ…λ¥κ°€ μμµλ‹λ‹¤.

  - 300 Multiple Choices : μ•μ“΄λ‹¤.
  - 301 Moved Permanently : μ”μ²­ λ©”μ„λ“κ°€ GETμΌλ΅ λ³€ν•κ³ , λ³Έλ¬Έμ΄ μ κ±°λ  μλ„ μμ(MAY)
  - **302 Found** : μ”μ²­ λ©”μ„λ“κ°€ GETμΌλ΅ λ³€ν•κ³ , λ³Έλ¬Έμ΄ μ κ±°λ  μλ„ μμ(MAY)
  - 303 See Other : μ”μ²­ λ©”μ„λ“κ°€ GETμΌλ΅ λ³€κ²½
  - 304 Not Modified : ν΄λΌμ΄μ–ΈνΈ λ΅μ»¬ PCμ— μ €μ¥λ μΊμ‹λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤. (μΊμ‹λ΅ λ¦¬λ‹¤μ΄λ ‰νΈ)
  - 307 Temporary Redirect : μ”μ²­ λ©”μ„λ“μ™€ λ³Έλ¬Έ μ μ§€(POSTλ©”μ„λ“μ΄λ©΄ λ¦¬λ‹¤μ΄λ ‰νΈλ„ POSTμ μ§€)
  - 308 Permanent Redirect : μ”μ²­ λ©”μ„λ“μ™€ λ³Έλ¬Έ μ μ§€(POSTλ©”μ„λ“μ΄λ©΄ λ¦¬λ‹¤μ΄λ ‰νΈλ„ POSTμ μ§€)

#### PRG:Post/Redirect/Get
- μΌμ‹μ μΈ λ¦¬λ‹¤μ΄λ ‰μ…μΌλ΅ POSTμ”μ²­μ‹ μ¤‘λ³µ λ°©μ§€λ¥Ό μ„ν•΄ κ²°κ³Ό ν™”λ©΄μ„ GETλ©”μ„λ“λ΅ λ¦¬λ‹¤μ΄λ ‰νΈν•©λ‹λ‹¤.

<img width="100%" alt="image" src="https://user-images.githubusercontent.com/28051638/226810931-b4e41364-5722-4f6a-889a-c08489ae66a2.png">

#### μ‹¤λ¬΄μ—μ„λ” λ­ μ¨μ•Ό ν•λ” μ§€?
- 307,303μ„ κ¶μ¥ν•μ§€λ§ ν„μ‹¤μ μΌλ΅ μ΄λ―Έ λ§μ€ μ• ν”λ¦¬μΌ€μ΄μ… λΌμ΄λΈλ¬λ¦¬λ“¤μ΄ **302**λ¥Ό κΈ°λ³Έκ°’μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.
- μ²μ 302 μ¤ν™μ μλ„λ” HTTP λ©”μ„λ“λ¥Ό μ μ§€μ€μΌλ‚, λ€λ¶€λ¶„ μ›Ή λΈλΌμ°μ €λ“¤μ΄ GETμΌλ΅ μΌλ¶€λ” λ‹¤λ¥΄κ² λ™μ‘.

### 4xx (Client Error)
- ν΄λΌμ΄μ–ΈνΈ μ¤λ¥
  
  - 400 Bad Request : ν΄λΌμ΄μ–ΈνΈμ μλ»λ μ”μ²­μΌλ΅ μ„λ²„κ°€ μ”μ²­ μ²λ¦¬ λ¶κ°€
  - 401 Unauthorized : ν΄λΌμ΄μ–ΈνΈκ°€ ν•΄λ‹Ή λ¦¬μ†μ¤μ— λ€ν• μΈμ¦μ΄ ν•„μ”ν•¨
    - μΈμ¦(Authentication): λ³ΈμΈμ΄ λ„κµ¬μΈμ§€ ν™•μΈ, (λ΅κ·ΈμΈ)
    - μΈκ°€(Authorization): κ¶ν•λ¶€μ—¬ (ADMIN κ¶ν•μ²λΌ νΉμ • λ¦¬μ†μ¤μ— μ ‘κ·Όν•  μ μλ” κ¶ν•, μΈμ¦μ΄ μμ–΄μ•Ό μΈκ°€κ°€ μμ)
  - 403 Forbidden : μ„λ²„κ°€ μ”μ²­μ„ μ΄ν•΄ν–μ§€λ§ μΉμΈμ„ κ±°λ¶€ν•¨ (μΈμ¦ μκ²© μ¦λ…μ€ μμ§€λ§, μ ‘κ·Ό κ¶ν• λ¶μ¶©λ¶„)
  - 404 Not Found : μ”μ²­ λ¦¬μ†μ¤λ¥Ό μ°Ύμ„ μ μ—†μ

### 5xx (Server Error)
- μ„λ²„ μ¤λ¥
  - 500 Internal Server Error : μ„λ²„ λ¬Έμ λ΅ μ¤λ¥ λ°μƒ
  - 503 Service Unavailable : μ„λΉ„μ¤ μ΄μ© λ¶κ°€

- 500μ—λ¬λ” μ‹¬κ°ν• μ—λ¬λ΅ μ›¬λ§ν•λ©΄ 500μ—λ¬ μ²λ¦¬λ¥Ό λ§λ“¤λ©΄ μ•λ©λ‹λ‹¤. 
